
/*
PROBLEM: Number of Steps to Reduce a Binary String to One

Given a binary string s representing a positive integer, reduce it to "1" by:
- If even (ends with '0'): Divide by 2 (remove last character)
- If odd (ends with '1'): Add 1 (binary addition)

Return the minimum number of steps required.

TEST CASES:
- "1" -> 0 (already at target)
- "10" -> 1 ("10" -> "1")
- "11" -> 3 ("11" -> "100" -> "10" -> "1")
- "101" -> 5 ("101" -> "110" -> "11" -> "100" -> "10" -> "1")
- "1101" -> 6 ("1101" -> "1110" -> "111" -> "1000" -> "100" -> "10" -> "1")
- "1000" -> 3 ("1000" -> "100" -> "10" -> "1")
- "11111" -> 6 ("11111" -> "100000" -> "10000" -> "1000" -> "100" -> "10" -> "1")
- "100000" -> 5 ("100000" -> "10000" -> "1000" -> "100" -> "10" -> "1")
- "1001" -> 7 ("1001" -> "1010" -> "101" -> "110" -> "11" -> "100" -> "10" -> "1")
- "1110" -> 5 ("1110" -> "111" -> "1000" -> "100" -> "10" -> "1")
- "101010" -> 9 ("101010" -> "101011" -> "101100" -> "10110" -> "1011" -> "1100" -> "110" -> "11" -> "100" -> "10" -> "1")
- "1011" -> 6 ("1011" -> "1100" -> "110" -> "11" -> "100" -> "10" -> "1")
- "111" -> 4 ("111" -> "1000" -> "100" -> "10" -> "1")
- "1100" -> 5 ("1100" -> "110" -> "11" -> "100" -> "10" -> "1")
- "11101" -> 7 ("11101" -> "11110" -> "1111" -> "10000" -> "1000" -> "100" -> "10" -> "1")
- "10010" -> 8 ("10010" -> "10011" -> "10100" -> "1010" -> "101" -> "110" -> "11" -> "100" -> "10" -> "1")
- "11011" -> 7 ("11011" -> "11100" -> "1110" -> "111" -> "1000" -> "100" -> "10" -> "1")
*/

class Solution {
public:
    string increment(string s)
    {
        int carry = 1;
        for(int i = s.size()-1; i >= 0; i--)
        {
            int x = s[i] - '0' + carry;
            carry = x/2;
            x %= 2;
            if(x == 0)s[i] = '0';
            else s[i] = '1';
        }
        if(carry)s = "1" + s;
        return s;
    }
    
    int numSteps(string s) {
      int ans = 0;
      while(s.size() != 1)
      {
          if(s[s.size() - 1] == '1')
          {
              s = increment(s);
          }
          else
          {
              s.pop_back();
          }
          ans++;
      }
        return ans;
    }
};
